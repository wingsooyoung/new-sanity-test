{"id":"index.html","dependencies":[{"name":"./src/styles.css","dynamic":true,"resolved":"/project/new-sanity-test/src/styles.css","parent":"/project/new-sanity-test/index.html"}],"generated":{"html":"<!DOCTYPE html>\n<html>\n  <head>\n    <title>My Pets</title>\n    <meta charset=\"UTF-8\">\n    <link rel=\"stylesheet\" href=\"/0fd3637456511d89012d5274dd855970.css\">\n  </head>\n\n  <body>\n    <header>\n      <h1>Sanity + Vanilla JavaScript</h1>\n    </header>\n    <main>\n      <h2>Pets</h2>\n      <ul>\n        <li id=\"l1\">Loading pets…</li>\n        <li id=\"l2\">Loading pets…</li>\n        <li id=\"l3\">Loading pets…</li>\n        <li id=\"l4\">Loading pets…</li>\n        <li id=\"l5\">Loading pets…</li>\n      </ul>\n\n      <div>\n        <pre>\n¯\\_(ツ)_/¯\nYour data will show up here when you've configured everything correctly\n        </pre>\n      </div>\n    </main>\n\n   \n   <script type=\"module\">\n    import {createClient} from 'https://esm.sh/@sanity/client'\n  \n    const client = createClient({\n      projectId: 'o9bzeud3',\n      dataset: 'production',\n      useCdn: true, // set to `false` to bypass the edge cache\n      apiVersion: '2023-10-01', // use current date (YYYY-MM-DD) to target the latest API version\n    })\n  \n    const data = await client.fetch(`count(*)`)\n\n    document.getElementById('results').innerText = `Number of documents: ${data}`\n\n \n\n    export async function getPosts() {\n      const query = '*[_type == \"postcard-1\"] {postcardDesign->{postcardBase{caption, \"image\": asset->url}}, letterTo, letterSigned, letterFrom, letterMessage, _id}'\n\n      const posts = await client.fetch(query)\n    // .then((res) => console.log(res.json()))\n    .then((res) => {\n        // get the list element, and the first item\n        let list = document.querySelector(\"ul\");\n        let firstListItem = document.querySelector(\"ul li\");\n\n        // document.getElementById(\"l1\").innerText = res;\n        \n        if (res.length >= 0) {\n        // remove the placeholder content\n        list.removeChild(firstListItem);\n\n        res.forEach((postcard) => {\n            // create a list element for each pet\n            let listItem1 = document.createElement(\"li\");\n            let listItem2 = document.createElement(\"li\");\n            let listItem3 = document.createElement(\"li\");\n            let listItem4 = document.createElement(\"li\");\n            let listItem5 = document.createElement(\"li\");\n\n            // add the pet name as the text content\n            // document.getElementById('l1').innerText  = postcard?.postcardDesign;\n            document.getElementById('l2').innerText  = postcard?.letterTo;\n            document.getElementById('l3').innerText  = postcard?.letterSigned;\n            document.getElementById('l4').innerText  = postcard?.letterFrom;\n            document.getElementById('l5').innerText  = postcard?.letterMessage;\n\n    \n        });\n        // let pre = document.querySelector(\"pre\");\n        // // add the raw data to the preformatted element\n        // pre.textContent = JSON.stringify(result, null, 2);\n        }\n    })\n    .catch((err) => {\n      console.error(err);\n      // let list = document.querySelector(\"ul\");\n      // let firstListItem = document.querySelector(\"ul li\");\n      // firstListItem.textContent = \"you reached an error\"\n    });\n  return posts}\n  getPosts()\n  </script>\n\n  <div id=\"results\"></div>\n  <br>\n\n  <!-- <script type=\"module\" src=\"sanity.js\"></script> -->\n   \n   <!-- <script defer>\n    // import { client, getPosts } from \"./sanity.js\"\n    // \n    console.log(getPosts());\n    \n   </script> -->\n  </body>\n</html>\n"},"sourceMaps":null,"error":null,"hash":"04321091f367d20462773d7a10390969","cacheData":{}}